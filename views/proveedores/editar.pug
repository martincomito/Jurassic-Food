extends ../layout

block content
  h2 Editar Proveedor
  
  form(method="POST", action=`/proveedores/${proveedor._id}?_method=PUT`)
    input(type="hidden", name="_method", value="PUT")
    .grupo-formulario
      label(for="nombre") Nombre de la Empresa:
      input(type="text", id="nombre", name="nombre", value=proveedor.nombre, required)
    
    .fila-formulario
      .grupo-formulario
        label(for="contacto") Persona de Contacto:
        input(type="text", id="contacto", name="contacto", value=proveedor.contacto, required)
      
      .grupo-formulario
        label(for="telefono") Teléfono:
        input(type="tel", id="telefono", name="telefono", value=proveedor.telefono, required)
    
    .grupo-formulario
      label(for="email") Email:
      input(type="email", id="email", name="email", value=proveedor.email, required)
    
    
    
    .acciones-formulario
      button.boton.boton-exito(type="submit", id="boton-actualizar") Actualizar
      a.boton.boton-principal(href="/proveedores") Cancelar

  script.
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.querySelector('form');
      const submitBtn = document.getElementById('boton-actualizar');
      
      form.addEventListener('submit', function() {
        // Deshabilitar el botón para evitar varios clicks
        // si la operación tarda 

        submitBtn.disabled = true;
        submitBtn.textContent = 'Actualizando...';
        submitBtn.style.opacity = '0.6';
        submitBtn.style.cursor = 'not-allowed';
      });
    });

  style.
    .acciones-formulario {
      margin-top: 20px;
      text-align: center;
    }
    
    .boton:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
